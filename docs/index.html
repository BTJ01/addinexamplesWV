<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wrapr Dot Pipe Add-in • addinexamplesWV</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">addinexamplesWV</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<p>This package supplies the following <a href="https://rstudio.github.io/rstudioaddins/">RStudio add-ins</a>:</p>
<ul>
<li>
<strong>“Insert <code>%.&gt;%</code>”</strong> inserts “<code>%.&gt;%</code>” (<a href="https://winvector.github.io/wrapr/"><code>wrapr</code></a>’s <a href="https://winvector.github.io/wrapr/articles/dot_pipe.html">“dot arrow pipe”</a>“)</li>
<li>
<strong>“Insert <code>(.)</code>”</strong> inserts “<code>(.)</code>” (“argument stand-in”)</li>
<li>
<strong>“Insert <code>-&gt;.;</code>”</strong> inserts “<code>-&gt;.;</code>” (<a href="http://www.win-vector.com/blog/2016/12/magrittrs-doppelganger/">“Bizarro pipe”</a>)</li>
<li>
<strong>“Insert <code>:=</code>”</strong> inserts “<code>:=</code>” (<a href="https://winvector.github.io/wrapr/"><code>wrapr</code></a>’s <a href="https://winvector.github.io/wrapr/reference/named_map_builder.html">“named map builder”</a>)</li>
<li>
<strong>“Insert <code>%&gt;.%</code>”</strong> inserts “<code>%&gt;.%</code>” (<a href="https://winvector.github.io/wrapr/"><code>wrapr</code></a>’s <a href="https://winvector.github.io/wrapr/reference/grapes-greater-than-.-grapes.html">“to dot pipe”</a>“)</li>
<li>
<strong>“Insert <code>%&gt;%</code>”</strong> inserts “<code>%&gt;%</code>” (<a href="https://CRAN.R-project.org/package=magrittr">“Magrittr pipe”</a>, also usually available as a separate RStudio editor binding as <code>Shift-ALT-m</code>)</li>
<li>
<strong>“Insert <code>%&lt;&gt;%</code>”</strong> inserts “<code>%&lt;&gt;%</code>” (<a href="https://CRAN.R-project.org/package=magrittr">“Magrittr compound pipe”</a>)</li>
<li>
<strong>“Insert <code>%&lt;-%</code>”</strong> inserts “<code>%&lt;-%</code>” (<a href="https://CRAN.R-project.org/package=zeallot">“Zeallot assign”</a>)</li>
</ul>
<p>The above are useful when bound to keyboard shortcuts in <a href="https://www.rstudio.com/products/RStudio/">RStudio</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The <code>R</code> code to install is below.</p>
<p>We first ensure that you have the latest <a href="https://cran.r-project.org">CRAN</a> release versions of:</p>
<ul>
<li><a href="https://github.com/hadley/devtools">devtools</a></li>
<li><a href="https://github.com/rstudio/htmltools">htmltools</a></li>
<li><a href="https://github.com/rstudio/shiny">shiny</a></li>
<li><a href="https://github.com/rstudio/miniUI">miniUI</a></li>
<li><a href="https://CRAN.R-project.org/package=formatR">formatR</a></li>
<li><a href="https://CRAN.R-project.org/package=wrapr">wrapr</a></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">"devtools"</span>, <span class="st">"htmltools"</span>, <span class="st">"shiny"</span>, 
                   <span class="st">"miniUI"</span>, <span class="st">"formatR"</span>, <span class="st">"wrapr"</span>))</code></pre></div>
<p>Then we install this package itself from GitHub:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"WinVector/addinexamples"</span>)</code></pre></div>
<p>Finally bind “Insert <code>%.&gt;%</code>” to <code>F9</code> (which has a right-facing glyph on some Mac keyboards) via <code>Tools-&gt;Addins-&gt;BrowseAddins-&gt;KeyboardShortCuts</code>.</p>
</div>
<div id="use" class="section level2">
<h2 class="hasAnchor">
<a href="#use" class="anchor"></a>Use</h2>
<p>Once you have installed and configured all of the above you can press <code>F9</code> to “Insert <code>%.&gt;%</code>” where you are typing. “<code>%.&gt;%</code>” is the <code>wrapr</code> “dot pipe” (an alternative to the <a href="https://CRAN.R-project.org/package=magrittr"><code>magrittr</code></a> <code>%&gt;%</code> pipe). This allows easy conversion of nested function application into left to right sequential pipe notation.</p>
<p>For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sin</span>(<span class="kw">sqrt</span>(<span class="kw">exp</span>(<span class="dv">4</span>)))</code></pre></div>
<pre><code>## [1] 0.893855</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"wrapr"</span>)

<span class="dv">4</span> <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw">exp</span>(.) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw">sqrt</span>(.) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw">sin</span>(.)</code></pre></div>
<pre><code>## [1] 0.893855</code></pre>
<p>Dot pipe insists on explicit marking of function arguments with “<code>.</code>”. If you also bind “Insert <code>(.)</code>” to <code>F10</code> typing the above pipelines can become <em>very</em> fast and efficient.</p>
<p>Basically:</p>
<ul>
<li>You type a function name and then press <code>F10</code>. This gives you the template for function arguments which you either leave alone (if the function only takes one argument) or edit to add in the additional arguments you need. This replaces pressing space after you type in a function name.</li>
<li>You press <code>F9</code> when you are done with a pipeline step and then enter or return.</li>
</ul>
<p>Try the above in the RStudio editor and the RStudio console, it works really well both places.</p>
<p>Bizarro pipe can be used the same way as we just used dot pipe (but does not require any package for implementation, as it is an emergent behavior of pre-existing base-<code>R</code> semantics):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">4</span> -&gt;.;
    <span class="kw">exp</span>(.) -&gt;.;
    <span class="kw">sqrt</span>(.) -&gt;.;
    <span class="kw">sin</span>(.)</code></pre></div>
<pre><code>## [1] 0.893855</code></pre>
<p>Be aware that the value of a Bizarro pipeline comes off the right bottom end of the pipeline (not the top left end as with dot pipe). So to pick up the Bizarro pipeline value you need to use a right assignment of the form <code>-&gt;</code> at the end of the pipeline (or use <code>{}</code>). This is, however, one of the features that makes <a href="http://www.win-vector.com/blog/2017/01/using-the-bizarro-pipe-to-debug-magrittr-pipelines-in-r/">Bizarro pipe superior for step debugging</a>.</p>
<p>Both of these pipes also work with more complicated function signatures, and with <a href="https://CRAN.R-project.org/package=dplyr"><code>dplyr</code></a>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># assuming you have dplyr installed</span>
<span class="kw">suppressPackageStartupMessages</span>(<span class="kw">library</span>(<span class="st">"dplyr"</span>))

starwars <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span>(., name) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span>(., <span class="dt">mean_height =</span> <span class="kw">mean</span>(height)) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span>(.) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(<span class="kw"><a href="http://dplyr.tidyverse.org/reference/reexports.html">data_frame</a></span>(<span class="dt">name =</span> <span class="kw">c</span>(<span class="st">"Han Solo"</span>, 
                                <span class="st">"Luke Skywalker"</span>)), 
            ., 
            <span class="dt">by =</span> <span class="st">'name'</span>) <span class="op">%.&gt;%</span>
<span class="st">    </span><span class="kw"><a href="http://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span>(., <span class="kw"><a href="http://dplyr.tidyverse.org/reference/desc.html">desc</a></span>(name))</code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   name           mean_height
##   &lt;chr&gt;                &lt;dbl&gt;
## 1 Luke Skywalker        172.
## 2 Han Solo              180.</code></pre>
<p>Another set of good choices for binding are:</p>
<ul>
<li>
<code>Alt-Enter</code> for “Insert <code>%.&gt;%</code>” (or even <code>Alt-;</code>)</li>
<li>
<code>Alt-Space</code> for “Insert <code>(.)</code>”</li>
<li>
<code>Alt-=</code> for “Insert <code>:=</code>”.</li>
</ul>
<p>That way you are treating the argument list as a space-like separator and the pipe symbol as a line-end-like separator.</p>
</div>
<div id="user-mappings" class="section level2">
<h2 class="hasAnchor">
<a href="#user-mappings" class="anchor"></a>User mappings</h2>
<p>Three user controllable add-ins are registered as part of this package: <code>insert usr1</code>, <code>insert usr2</code>, and <code>insert usr3</code>. The user at run-time can change what function is called when the add-in is activated. For example to re-bind the first user add-in to insert <code>:=</code> run the following <code>R</code> code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="st">"addinexamplesWV.usrFn1"</span> =<span class="st"> </span><span class="cf">function</span>() { rstudioapi<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/rstudioapi/topics/rstudio-documents">insertText</a></span>(<span class="st">" := "</span>) })</code></pre></div>
<p>This allows changing settings without rebuilding the package.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Kevin Ushey <br><small class="roles"> Author </small> </li>
<li>John Mount <br><small class="roles"> Author, maintainer </small> </li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/WinVector/addinexamplesWV">This repository</a></li>
<li><a href="https://github.com/rstudio/addinexamples">RStudio’s original</a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Kevin Ushey, John Mount.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
